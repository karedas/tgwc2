<div mat-dialog-title cdkDrag cdkDragHandle cdkDragRootElement=".cdk-overlay-pane" cdkDragBoundary="body">
  {{headerTitle}}
  <button mat-icon-button class="tg-dialog--close" [mat-dialog-close]="true">
    <mat-icon aria-label="Chiudi la finestra">close</mat-icon>
  </button>
</div>
<ng-container *ngIf="dataTable$ | async">
  <div class="tg-generictable">
    <div class="b-ironlight-mini tg-box">
      <div class="tg-dialog-content-nopadding tg-shadow-inset">

        <div fxLayout="column">

          <ng-scrollbar class="scrollbar scrollbar-dialog" [autoUpdate]="true" #scrollBar [shown]="'always'"[disableOnBreakpoints]="false">
            <table mat-table [dataSource]="data">

              <ng-container [matColumnDef]="column" *ngFor="let column of columnsToDisplay">
                <th mat-header-cell *matHeaderCellDef> {{column}} </th>
                <td mat-cell *matCellDef="let element">
                  <!-- Icon type -->
                  <ng-container *ngIf="column ==='icona'">
                    <tg-icons [icon]="element[column]"></tg-icons>
                  </ng-container>
                  <!-- Ip Address type-->
                  <ng-container *ngIf="column ==='ipaddr'">
                      <a target="_blank" href="http://www.infosniper.net/index.php?ip_address= {{rowData[col.field]}}">{{element[column]}}</a>
                  </ng-container>
                  <!-- Default Text type -->
                  <ng-container *ngIf="column !== 'icona' && column !=='ipaddr'">
                    <span [innerHtml]="element[column] | dataToHtml" *ngIf="element[column]"></span>
                  </ng-container>
                </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="columnsToDisplay;  sticky: true"></tr>
              <tr mat-row *matRowDef="let row; columns: columnsToDisplay;"></tr>

            </table>
          </ng-scrollbar>
          
          <mat-paginator [length]="resultsLength" [pageSize]="20"></mat-paginator>

        </div>
        <!-- Generic Table content end -->
      </div>
      <div class="tg-border-box">
        <div class="tg-border tg-border-top"></div>
        <div class="tg-border tg-border-left"></div>
        <div class="tg-border tg-border-right"></div>
        <div class="tg-border tg-border-bottom"></div>
      </div>
    </div>
  </div>
</ng-container>
